{"version":3,"sources":["../src/index.ts","../src/component.tsx","../src/components/button.tsx","../src/useUploadThing.ts","../src/utils/useEvent.ts","../src/utils/useFetch.ts","../src/components/shared.tsx","../src/components/dropzone.tsx","../src/use-dropzone/index.tsx","../src/use-dropzone/utils.ts"],"sourcesContent":["import \"./styles.css\";\n\nexport {\n  UploadButton,\n  UploadDropzone,\n  Uploader,\n  generateComponents,\n} from \"./component\";\n\nexport type * from \"./types\";\nexport type * from \"./use-dropzone/types\";\n","import type { ComponentProps } from \"react\";\n\nimport { getFullApiUrl } from \"uploadthing/client\";\nimport type { ErrorMessage, FileRouter } from \"uploadthing/server\";\n\nimport { UploadButton } from \"./components/button\";\nimport { UploadDropzone } from \"./components/dropzone\";\nimport type { UploadthingComponentProps } from \"./types\";\n\nexport function Uploader<\n  TRouter extends FileRouter,\n  TEndpoint extends keyof TRouter,\n>(\n  props: FileRouter extends TRouter\n    ? ErrorMessage<\"You forgot to pass the generic\">\n    : UploadthingComponentProps<TRouter, TEndpoint>,\n) {\n  return (\n    <>\n      <div className=\"flex flex-col items-center justify-center gap-4\">\n        <span className=\"text-center text-4xl font-bold\">\n          {`Upload a file using a button:`}\n        </span>\n        {/* @ts-expect-error - this is validated above */}\n        <UploadButton<TRouter> {...props} />\n      </div>\n      <div className=\"flex flex-col items-center justify-center gap-4\">\n        <span className=\"text-center text-4xl font-bold\">\n          {`...or using a dropzone:`}\n        </span>\n        {/* @ts-expect-error - this is validated above */}\n        <UploadDropzone<TRouter> {...props} />\n      </div>\n    </>\n  );\n}\n\nexport function generateComponents<TRouter extends FileRouter>(initOpts?: {\n  /**\n   * URL to the UploadThing API endpoint\n   * @example \"/api/uploadthing\"\n   * @example \"https://www.example.com/api/uploadthing\"\n   *\n   * If relative, host will be inferred from either the `VERCEL_URL` environment variable or `window.location.origin`\n   *\n   * @default (VERCEL_URL ?? window.location.origin) + \"/api/uploadthing\"\n   */\n  url?: string | URL;\n}) {\n  const url =\n    initOpts?.url instanceof URL ? initOpts.url : getFullApiUrl(initOpts?.url);\n\n  return {\n    UploadButton: <TEndpoint extends keyof TRouter>(\n      props: Omit<\n        ComponentProps<typeof UploadButton<TRouter, TEndpoint>>,\n        \"url\"\n      >,\n    ) => <UploadButton<TRouter, TEndpoint> {...(props as any)} url={url} />,\n    UploadDropzone: <TEndpoint extends keyof TRouter>(\n      props: Omit<\n        ComponentProps<typeof UploadDropzone<TRouter, TEndpoint>>,\n        \"url\"\n      >,\n    ) => <UploadDropzone<TRouter, TEndpoint> {...(props as any)} url={url} />,\n    Uploader: <TEndpoint extends keyof TRouter>(\n      props: Omit<ComponentProps<typeof Uploader<TRouter, TEndpoint>>, \"url\">,\n    ) => <Uploader<TRouter, TEndpoint> {...(props as any)} url={url} />,\n  };\n}\n\nexport { UploadButton, UploadDropzone };\n","import { useEffect, useRef, useState } from \"react\";\nimport { twMerge } from \"tailwind-merge\";\n\nimport {\n  allowedContentTextLabelGenerator,\n  contentFieldToContent,\n  generateMimeTypes,\n  generatePermittedFileTypes,\n  getFullApiUrl,\n  styleFieldToClassName,\n  styleFieldToCssObject,\n} from \"uploadthing/client\";\nimport type { ContentField, StyleField } from \"uploadthing/client\";\nimport type { ErrorMessage, FileRouter } from \"uploadthing/server\";\n\nimport type { UploadthingComponentProps } from \"../types\";\nimport { INTERNAL_uploadthingHookGen } from \"../useUploadThing\";\nimport { getFilesFromClipboardEvent, progressWidths, Spinner } from \"./shared\";\n\ntype ButtonStyleFieldCallbackArgs = {\n  __runtime: \"react\";\n  ready: boolean;\n  isUploading: boolean;\n  uploadProgress: number;\n  fileTypes: string[];\n};\n\nexport type UploadButtonProps<\n  TRouter extends FileRouter,\n  TEndpoint extends keyof TRouter,\n> = UploadthingComponentProps<TRouter, TEndpoint> & {\n  appearance?: {\n    container?: StyleField<ButtonStyleFieldCallbackArgs>;\n    button?: StyleField<ButtonStyleFieldCallbackArgs>;\n    allowedContent?: StyleField<ButtonStyleFieldCallbackArgs>;\n    clearBtn?: StyleField<ButtonStyleFieldCallbackArgs>;\n  };\n  content?: {\n    button?: ContentField<ButtonStyleFieldCallbackArgs>;\n    allowedContent?: ContentField<ButtonStyleFieldCallbackArgs>;\n    clearBtn?: ContentField<ButtonStyleFieldCallbackArgs>;\n  };\n  className?: string;\n  config?: {\n    appendOnPaste?: boolean;\n    mode?: \"auto\" | \"manual\";\n  };\n};\n\n/**\n * @example\n * <UploadButton<OurFileRouter>\n *   endpoint=\"someEndpoint\"\n *   onUploadComplete={(res) => console.log(res)}\n *   onUploadError={(err) => console.log(err)}\n * />\n */\nexport function UploadButton<\n  TRouter extends FileRouter,\n  TEndpoint extends keyof TRouter,\n>(\n  props: FileRouter extends TRouter\n    ? ErrorMessage<\"You forgot to pass the generic\">\n    : UploadButtonProps<TRouter, TEndpoint>,\n) {\n  // Cast back to UploadthingComponentProps<TRouter> to get the correct type\n  // since the ErrorMessage messes it up otherwise\n  const $props = props as unknown as UploadButtonProps<TRouter, TEndpoint> & {\n    // props not exposed on public type\n    // Allow to set internal state for testing\n    __internal_state?: \"readying\" | \"ready\" | \"uploading\";\n    // Allow to set upload progress for testing\n    __internal_upload_progress?: number;\n    // Allow to set ready explicitly and independently of internal state\n    __internal_ready?: boolean;\n    // Allow to disable the button\n    __internal_button_disabled?: boolean;\n  };\n\n  const { mode = \"auto\", appendOnPaste = false } = $props.config ?? {};\n\n  const useUploadThing = INTERNAL_uploadthingHookGen<TRouter>({\n    url: $props.url instanceof URL ? $props.url : getFullApiUrl($props.url),\n  });\n\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const labelRef = useRef<HTMLLabelElement>(null);\n  const [uploadProgressState, setUploadProgress] = useState(\n    $props.__internal_upload_progress ?? 0,\n  );\n  const [files, setFiles] = useState<File[]>([]);\n  const [isManualTriggerDisplayed, setIsManualTriggerDisplayed] =\n    useState(false);\n  const uploadProgress =\n    $props.__internal_upload_progress ?? uploadProgressState;\n\n  const { startUpload, isUploading, permittedFileInfo } = useUploadThing(\n    $props.endpoint,\n    {\n      onClientUploadComplete: (res) => {\n        if (fileInputRef.current) {\n          fileInputRef.current.value = \"\";\n        }\n        setIsManualTriggerDisplayed(false);\n        setFiles([]);\n        $props.onClientUploadComplete?.(res);\n        setUploadProgress(0);\n      },\n      onUploadProgress: (p) => {\n        setUploadProgress(p);\n        $props.onUploadProgress?.(p);\n      },\n      onUploadError: $props.onUploadError,\n      onUploadBegin: $props.onUploadBegin,\n      onBeforeUploadBegin: $props.onBeforeUploadBegin,\n    },\n  );\n\n  const { fileTypes, multiple } = generatePermittedFileTypes(\n    permittedFileInfo?.config,\n  );\n\n  const ready =\n    $props.__internal_ready ??\n    ($props.__internal_state === \"ready\" || fileTypes.length > 0);\n\n  useEffect(() => {\n    const handlePaste = (event: ClipboardEvent) => {\n      if (!appendOnPaste) return;\n      if (document.activeElement !== labelRef.current) return;\n\n      const pastedFiles = getFilesFromClipboardEvent(event);\n      if (!pastedFiles) return;\n\n      setFiles((prev) => [...prev, ...pastedFiles]);\n\n      if (mode === \"auto\") {\n        const input = \"input\" in $props ? $props.input : undefined;\n        void startUpload(files, input);\n      }\n    };\n\n    window.addEventListener(\"paste\", handlePaste);\n    return () => {\n      window.removeEventListener(\"paste\", handlePaste);\n    };\n  }, [startUpload, appendOnPaste, $props, files, mode, fileTypes]);\n\n  const getUploadButtonText = (fileTypes: string[]) => {\n    if (isManualTriggerDisplayed)\n      return `Upload ${files.length} file${files.length === 1 ? \"\" : \"s\"}`;\n    if (fileTypes.length === 0) return \"Loading...\";\n    return `Choose File${multiple ? `(s)` : ``}`;\n  };\n\n  const getUploadButtonContents = (fileTypes: string[]) => {\n    if (state !== \"uploading\") {\n      return getUploadButtonText(fileTypes);\n    }\n    if (uploadProgress === 100) {\n      return <Spinner />;\n    }\n    return `${uploadProgress}%`;\n  };\n\n  const getInputProps = () => ({\n    type: \"file\",\n    ref: fileInputRef,\n    multiple,\n    accept: generateMimeTypes(fileTypes ?? [])?.join(\", \"),\n    onChange: (e: React.ChangeEvent<HTMLInputElement>) => {\n      if (!e.target.files) return;\n      const selectedFiles = Array.from(e.target.files);\n\n      if (mode === \"manual\") {\n        setFiles(selectedFiles);\n        setIsManualTriggerDisplayed(true);\n        return;\n      }\n\n      const input = \"input\" in $props ? $props.input : undefined;\n      void startUpload(selectedFiles, input);\n    },\n    disabled: $props.__internal_button_disabled ?? !ready,\n    ...(!($props.__internal_button_disabled ?? !ready) ? { tabIndex: 0 } : {}),\n  });\n\n  const styleFieldArg = {\n    ready: ready,\n    isUploading: $props.__internal_state === \"uploading\" || isUploading,\n    uploadProgress,\n    fileTypes,\n  } as ButtonStyleFieldCallbackArgs;\n\n  const state = (() => {\n    if ($props.__internal_state) return $props.__internal_state;\n    if (!ready) return \"readying\";\n    if (ready && !isUploading) return \"ready\";\n\n    return \"uploading\";\n  })();\n\n  const renderClearButton = () => (\n    <button\n      onClick={() => {\n        setFiles([]);\n        setIsManualTriggerDisplayed(false);\n\n        if (fileInputRef.current) {\n          fileInputRef.current.value = \"\";\n        }\n      }}\n      className={twMerge(\n        \"h-[1.25rem] cursor-pointer rounded border-none bg-transparent text-gray-500 transition-colors hover:bg-slate-200 hover:text-gray-600\",\n        styleFieldToClassName($props.appearance?.clearBtn, styleFieldArg),\n      )}\n      style={styleFieldToCssObject($props.appearance?.clearBtn, styleFieldArg)}\n      data-state={state}\n      data-ut-element=\"clear-btn\"\n    >\n      {contentFieldToContent($props.content?.clearBtn, styleFieldArg) ??\n        \"Clear\"}\n    </button>\n  );\n\n  const renderAllowedContent = () => (\n    <div\n      className={twMerge(\n        \"h-[1.25rem]  text-xs leading-5 text-gray-600\",\n        styleFieldToClassName($props.appearance?.allowedContent, styleFieldArg),\n      )}\n      style={styleFieldToCssObject(\n        $props.appearance?.allowedContent,\n        styleFieldArg,\n      )}\n      data-state={state}\n      data-ut-element=\"allowed-content\"\n    >\n      {contentFieldToContent($props.content?.allowedContent, styleFieldArg) ??\n        allowedContentTextLabelGenerator(permittedFileInfo?.config)}\n    </div>\n  );\n\n  return (\n    <div\n      className={twMerge(\n        \"flex flex-col items-center justify-center gap-1\",\n        $props.className,\n        styleFieldToClassName($props.appearance?.container, styleFieldArg),\n      )}\n      style={styleFieldToCssObject($props.appearance?.container, styleFieldArg)}\n      data-state={state}\n    >\n      <label\n        className={twMerge(\n          \"relative flex h-10 w-36 cursor-pointer items-center justify-center overflow-hidden rounded-md text-white after:transition-[width] after:duration-500 focus-within:ring-2 focus-within:ring-blue-600 focus-within:ring-offset-2\",\n          state === \"readying\" && \"cursor-not-allowed bg-blue-400\",\n          state === \"uploading\" &&\n            `bg-blue-400 after:absolute after:left-0 after:h-full after:bg-blue-600 after:content-[''] ${progressWidths[uploadProgress]}`,\n          state === \"ready\" && \"bg-blue-600\",\n          styleFieldToClassName($props.appearance?.button, styleFieldArg),\n        )}\n        style={styleFieldToCssObject($props.appearance?.button, styleFieldArg)}\n        data-state={state}\n        data-ut-element=\"button\"\n        tabIndex={0}\n        ref={labelRef}\n        onClick={(e) => {\n          if (isManualTriggerDisplayed) {\n            e.preventDefault();\n            e.stopPropagation();\n            const input = \"input\" in $props ? $props.input : undefined;\n            void startUpload(files, input);\n          }\n        }}\n      >\n        <input {...getInputProps()} className=\"sr-only\" />\n        {contentFieldToContent($props.content?.button, styleFieldArg) ??\n          getUploadButtonContents(fileTypes)}\n      </label>\n      {mode === \"manual\" && files.length > 0\n        ? renderClearButton()\n        : renderAllowedContent()}\n    </div>\n  );\n}\n","import { useRef, useState } from \"react\";\n\nimport { UploadThingError } from \"@uploadthing/shared\";\nimport type { UploadFileResponse } from \"uploadthing/client\";\nimport {\n  DANGEROUS__uploadFiles,\n  getFullApiUrl,\n  INTERNAL_DO_NOT_USE__fatalClientError,\n} from \"uploadthing/client\";\nimport type {\n  DistributiveOmit,\n  FileRouter,\n  inferEndpointInput,\n  inferEndpointOutput,\n  inferErrorShape,\n} from \"uploadthing/server\";\n\nimport type { EndpointMetadata } from \"./types\";\nimport { useEvent } from \"./utils/useEvent\";\nimport useFetch from \"./utils/useFetch\";\n\ndeclare const globalThis: {\n  __UPLOADTHING?: EndpointMetadata;\n};\n\nconst useEndpointMetadata = (url: URL, endpoint: string) => {\n  const maybeServerData = globalThis.__UPLOADTHING;\n  const { data } = useFetch<EndpointMetadata>(\n    // Don't fetch if we already have the data\n    maybeServerData ? undefined : url.href,\n  );\n  return (maybeServerData ?? data)?.find((x) => x.slug === endpoint);\n};\n\nexport type UseUploadthingProps<\n  TRouter extends FileRouter,\n  TEndpoint extends keyof TRouter,\n> = {\n  onClientUploadComplete?: (\n    res: UploadFileResponse<inferEndpointOutput<TRouter[TEndpoint]>>[],\n  ) => void;\n  onUploadProgress?: (p: number) => void;\n  onUploadError?: (e: UploadThingError<inferErrorShape<TRouter>>) => void;\n  onUploadBegin?: (fileName: string) => void;\n  onBeforeUploadBegin?: (files: File[]) => Promise<File[]> | File[];\n};\n\nexport const INTERNAL_uploadthingHookGen = <\n  TRouter extends FileRouter,\n>(initOpts: {\n  /**\n   * URL to the UploadThing API endpoint\n   * @example URL { http://localhost:3000/api/uploadthing }\n   * @example URL { https://www.example.com/api/uploadthing }\n   */\n  url: URL;\n}) => {\n  const useUploadThing = <TEndpoint extends keyof TRouter>(\n    endpoint: TEndpoint,\n    opts?: UseUploadthingProps<TRouter, TEndpoint>,\n  ) => {\n    const [isUploading, setUploading] = useState(false);\n    const uploadProgress = useRef(0);\n    const fileProgress = useRef<Map<string, number>>(new Map());\n\n    const permittedFileInfo = useEndpointMetadata(\n      initOpts.url,\n      endpoint as string,\n    );\n\n    type InferredInput = inferEndpointInput<TRouter[typeof endpoint]>;\n    type FuncInput = undefined extends InferredInput\n      ? [files: File[], input?: undefined]\n      : [files: File[], input: InferredInput];\n\n    const startUpload = useEvent(async (...args: FuncInput) => {\n      const files = (await opts?.onBeforeUploadBegin?.(args[0])) ?? args[0];\n      const input = args[1];\n\n      setUploading(true);\n      opts?.onUploadProgress?.(0);\n      try {\n        const res = await DANGEROUS__uploadFiles<TRouter, TEndpoint>(endpoint, {\n          files,\n          input,\n          onUploadProgress: (progress) => {\n            if (!opts?.onUploadProgress) return;\n            fileProgress.current.set(progress.file, progress.progress);\n            let sum = 0;\n            fileProgress.current.forEach((p) => {\n              sum += p;\n            });\n            const averageProgress =\n              Math.floor(sum / fileProgress.current.size / 10) * 10;\n            if (averageProgress !== uploadProgress.current) {\n              opts?.onUploadProgress?.(averageProgress);\n              uploadProgress.current = averageProgress;\n            }\n          },\n          onUploadBegin({ file }) {\n            if (!opts?.onUploadBegin) return;\n\n            opts.onUploadBegin(file);\n          },\n          url: initOpts.url,\n        });\n\n        opts?.onClientUploadComplete?.(res);\n        return res;\n      } catch (e) {\n        let error: UploadThingError<inferErrorShape<TRouter>>;\n        if (e instanceof UploadThingError) {\n          error = e as UploadThingError<inferErrorShape<TRouter>>;\n        } else {\n          error = INTERNAL_DO_NOT_USE__fatalClientError(e as Error);\n          console.error(\n            \"Something went wrong. Please contact UploadThing and provide the following cause:\",\n            error.cause instanceof Error ? error.cause.toString() : error.cause,\n          );\n        }\n        opts?.onUploadError?.(error);\n      } finally {\n        setUploading(false);\n        fileProgress.current = new Map();\n        uploadProgress.current = 0;\n      }\n    });\n\n    return {\n      startUpload,\n      isUploading,\n      permittedFileInfo,\n    } as const;\n  };\n\n  return useUploadThing;\n};\n\nexport const generateReactHelpers = <TRouter extends FileRouter>(initOpts?: {\n  /**\n   * URL to the UploadThing API endpoint\n   * @example \"/api/uploadthing\"\n   * @example \"https://www.example.com/api/uploadthing\"\n   *\n   * If relative, host will be inferred from either the `VERCEL_URL` environment variable or `window.location.origin`\n   *\n   * @default (VERCEL_URL ?? window.location.origin) + \"/api/uploadthing\"\n   */\n  url?: string | URL;\n}) => {\n  const url =\n    initOpts?.url instanceof URL ? initOpts.url : getFullApiUrl(initOpts?.url);\n\n  return {\n    useUploadThing: INTERNAL_uploadthingHookGen<TRouter>({ url }),\n    uploadFiles: <TEndpoint extends keyof TRouter>(\n      endpoint: TEndpoint,\n      opts: DistributiveOmit<\n        Parameters<typeof DANGEROUS__uploadFiles<TRouter, TEndpoint>>[1],\n        \"url\"\n      >,\n    ) =>\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      DANGEROUS__uploadFiles<TRouter, TEndpoint>(endpoint, {\n        ...opts,\n        url,\n      } as any),\n  } as const;\n};\n\nexport type FullFile = {\n  file: File;\n  contents: string;\n};\n","// Ripped from https://github.com/scottrippey/react-use-event-hook\nimport React from \"react\";\n\ntype AnyFunction = (...args: any[]) => any;\nconst noop = () => void 0;\n\n/**\n * Suppress the warning when using useLayoutEffect with SSR. (https://reactjs.org/link/uselayouteffect-ssr)\n * Make use of useInsertionEffect if available.\n */\nconst useInsertionEffect =\n  typeof window !== \"undefined\"\n    ? // useInsertionEffect is available in React 18+\n      React.useInsertionEffect || React.useLayoutEffect\n    : noop;\n\n/**\n * Similar to useCallback, with a few subtle differences:\n * - The returned function is a stable reference, and will always be the same between renders\n * - No dependency lists required\n * - Properties or state accessed within the callback will always be \"current\"\n */\nexport function useEvent<TCallback extends AnyFunction>(\n  callback: TCallback,\n): TCallback {\n  // Keep track of the latest callback:\n  const latestRef = React.useRef<TCallback>(\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    useEvent_shouldNotBeInvokedBeforeMount as any,\n  );\n  useInsertionEffect(() => {\n    latestRef.current = callback;\n  }, [callback]);\n\n  // Create a stable callback that always calls the latest callback:\n  // using useRef instead of useCallback avoids creating and empty array on every render\n  const stableRef = React.useRef<TCallback>();\n  if (!stableRef.current) {\n    stableRef.current = function (this: any) {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-return, prefer-rest-params, @typescript-eslint/no-unsafe-argument\n      return latestRef.current.apply(this, arguments as any);\n    } as TCallback;\n  }\n\n  return stableRef.current;\n}\n\n/**\n * Render methods should be pure, especially when concurrency is used,\n * so we will throw this error if the callback is called while rendering.\n */\nfunction useEvent_shouldNotBeInvokedBeforeMount() {\n  throw new Error(\n    \"INVALID_USEEVENT_INVOCATION: the callback from useEvent cannot be invoked before the component has mounted.\",\n  );\n}\n","// Ripped from https://usehooks-ts.com/react-hook/use-fetch\nimport { useEffect, useReducer, useRef } from \"react\";\n\nimport { safeParseJSON } from \"@uploadthing/shared\";\n\ninterface State<T> {\n  data?: T;\n  error?: Error;\n}\n\ntype Cache<T> = Record<string, T>;\n\n// discriminated union type\ntype Action<T> =\n  | { type: \"loading\" }\n  | { type: \"fetched\"; payload: T }\n  | { type: \"error\"; payload: Error };\n\nfunction useFetch<T = unknown>(url?: string, options?: RequestInit): State<T> {\n  const cache = useRef<Cache<T>>({});\n\n  // Used to prevent state update if the component is unmounted\n  const cancelRequest = useRef<boolean>(false);\n\n  const initialState: State<T> = {\n    error: undefined,\n    data: undefined,\n  };\n\n  // Keep state logic separated\n  const fetchReducer = (state: State<T>, action: Action<T>): State<T> => {\n    switch (action.type) {\n      case \"loading\":\n        return { ...initialState };\n      case \"fetched\":\n        return { ...initialState, data: action.payload };\n      case \"error\":\n        return { ...initialState, error: action.payload };\n      default:\n        return state;\n    }\n  };\n\n  const [state, dispatch] = useReducer(fetchReducer, initialState);\n\n  useEffect(() => {\n    // Do nothing if the url is not given\n    if (!url) return;\n\n    cancelRequest.current = false;\n\n    const fetchData = async () => {\n      dispatch({ type: \"loading\" });\n\n      // If a cache exists for this url, return it\n      if (cache.current[url]) {\n        dispatch({ type: \"fetched\", payload: cache.current[url] });\n        return;\n      }\n\n      try {\n        const response = await fetch(url, options);\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n\n        const dataOrError = await safeParseJSON<T>(response);\n        if (dataOrError instanceof Error) {\n          throw dataOrError;\n        }\n\n        cache.current[url] = dataOrError;\n        if (cancelRequest.current) return;\n\n        dispatch({ type: \"fetched\", payload: dataOrError });\n      } catch (error) {\n        if (cancelRequest.current) return;\n\n        dispatch({ type: \"error\", payload: error as Error });\n      }\n    };\n\n    void fetchData();\n\n    // Use the cleanup function for avoiding a possibly...\n    // ...state update after the component was unmounted\n    return () => {\n      cancelRequest.current = true;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [url]);\n\n  return state;\n}\n\nexport default useFetch;\n","export function getFilesFromClipboardEvent(event: ClipboardEvent) {\n  const dataTransferItems = event.clipboardData?.items;\n  if (!dataTransferItems) return;\n\n  const files = Array.from(dataTransferItems).reduce<File[]>((acc, curr) => {\n    const f = curr.getAsFile();\n    return f ? [...acc, f] : acc;\n  }, []);\n\n  return files;\n}\n\nexport function Spinner() {\n  return (\n    <svg\n      className=\"z-10 block h-5 w-5 animate-spin align-middle text-white\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      fill=\"none\"\n      viewBox=\"0 0 576 512\"\n    >\n      <path\n        fill=\"currentColor\"\n        d=\"M256 32C256 14.33 270.3 0 288 0C429.4 0 544 114.6 544 256C544 302.6 531.5 346.4 509.7 384C500.9 399.3 481.3 404.6 465.1 395.7C450.7 386.9 445.5 367.3 454.3 351.1C470.6 323.8 480 291 480 255.1C480 149.1 394 63.1 288 63.1C270.3 63.1 256 49.67 256 31.1V32z\"\n      />\n    </svg>\n  );\n}\n\nexport const progressWidths: Record<number, string> = {\n  0: \"after:w-0\",\n  10: \"after:w-[10%]\",\n  20: \"after:w-[20%]\",\n  30: \"after:w-[30%]\",\n  40: \"after:w-[40%]\",\n  50: \"after:w-[50%]\",\n  60: \"after:w-[60%]\",\n  70: \"after:w-[70%]\",\n  80: \"after:w-[80%]\",\n  90: \"after:w-[90%]\",\n  100: \"after:w-[100%]\",\n};\n","import { useCallback, useEffect, useState } from \"react\";\nimport { twMerge } from \"tailwind-merge\";\n\nimport {\n  allowedContentTextLabelGenerator,\n  classNames,\n  contentFieldToContent,\n  generateClientDropzoneAccept,\n  generatePermittedFileTypes,\n  getFullApiUrl,\n  styleFieldToClassName,\n  styleFieldToCssObject,\n} from \"uploadthing/client\";\nimport type { ContentField, StyleField } from \"uploadthing/client\";\nimport type { ErrorMessage, FileRouter } from \"uploadthing/server\";\n\nimport type { UploadthingComponentProps } from \"../types\";\nimport type { FileWithPath } from \"../use-dropzone\";\nimport { useDropzone } from \"../use-dropzone\";\nimport { INTERNAL_uploadthingHookGen } from \"../useUploadThing\";\nimport { getFilesFromClipboardEvent, progressWidths, Spinner } from \"./shared\";\n\ntype DropzoneStyleFieldCallbackArgs = {\n  __runtime: \"react\";\n  ready: boolean;\n  isUploading: boolean;\n  uploadProgress: number;\n  fileTypes: string[];\n  isDragActive: boolean;\n};\n\nexport type UploadDropzoneProps<\n  TRouter extends FileRouter,\n  TEndpoint extends keyof TRouter,\n> = UploadthingComponentProps<TRouter, TEndpoint> & {\n  appearance?: {\n    container?: StyleField<DropzoneStyleFieldCallbackArgs>;\n    uploadIcon?: StyleField<DropzoneStyleFieldCallbackArgs>;\n    label?: StyleField<DropzoneStyleFieldCallbackArgs>;\n    allowedContent?: StyleField<DropzoneStyleFieldCallbackArgs>;\n    button?: StyleField<DropzoneStyleFieldCallbackArgs>;\n  };\n  content?: {\n    uploadIcon?: ContentField<DropzoneStyleFieldCallbackArgs>;\n    label?: ContentField<DropzoneStyleFieldCallbackArgs>;\n    allowedContent?: ContentField<DropzoneStyleFieldCallbackArgs>;\n    button?: ContentField<DropzoneStyleFieldCallbackArgs>;\n  };\n  className?: string;\n  config?: {\n    mode?: \"auto\" | \"manual\";\n    appendOnPaste?: boolean;\n  };\n};\n\nexport function UploadDropzone<\n  TRouter extends FileRouter,\n  TEndpoint extends keyof TRouter,\n>(\n  props: FileRouter extends TRouter\n    ? ErrorMessage<\"You forgot to pass the generic\">\n    : UploadDropzoneProps<TRouter, TEndpoint>,\n) {\n  // Cast back to UploadthingComponentProps<TRouter> to get the correct type\n  // since the ErrorMessage messes it up otherwise\n  const $props = props as unknown as UploadDropzoneProps<TRouter, TEndpoint> & {\n    // props not exposed on public type\n    // Allow to set internal state for testing\n    __internal_state?: \"readying\" | \"ready\" | \"uploading\";\n    // Allow to set upload progress for testing\n    __internal_upload_progress?: number;\n    // Allow to set ready explicitly and independently of internal state\n    __internal_ready?: boolean;\n    // Allow to show the button even if no files were added\n    __internal_show_button?: boolean;\n    // Allow to disable the button\n    __internal_button_disabled?: boolean;\n    // Allow to disable the dropzone\n    __internal_dropzone_disabled?: boolean;\n  };\n  const { mode = \"manual\", appendOnPaste = false } = $props.config ?? {};\n\n  const useUploadThing = INTERNAL_uploadthingHookGen<TRouter>({\n    url: $props.url instanceof URL ? $props.url : getFullApiUrl($props.url),\n  });\n\n  const [files, setFiles] = useState<File[]>([]);\n\n  const [uploadProgressState, setUploadProgress] = useState(\n    $props.__internal_upload_progress ?? 0,\n  );\n  const uploadProgress =\n    $props.__internal_upload_progress ?? uploadProgressState;\n  const { startUpload, isUploading, permittedFileInfo } = useUploadThing(\n    $props.endpoint,\n    {\n      onClientUploadComplete: (res) => {\n        setFiles([]);\n        $props.onClientUploadComplete?.(res);\n        setUploadProgress(0);\n      },\n      onUploadProgress: (p) => {\n        setUploadProgress(p);\n        $props.onUploadProgress?.(p);\n      },\n      onUploadError: $props.onUploadError,\n      onUploadBegin: $props.onUploadBegin,\n      onBeforeUploadBegin: $props.onBeforeUploadBegin,\n    },\n  );\n\n  const { fileTypes } = generatePermittedFileTypes(permittedFileInfo?.config);\n\n  const onDrop = useCallback(\n    (acceptedFiles: FileWithPath[]) => {\n      setFiles(acceptedFiles);\n\n      // If mode is auto, start upload immediately\n      if (mode === \"auto\") {\n        const input = \"input\" in $props ? $props.input : undefined;\n        void startUpload(acceptedFiles, input);\n        return;\n      }\n    },\n    [$props, mode, startUpload],\n  );\n\n  const { getRootProps, getInputProps, isDragActive, rootRef } = useDropzone({\n    onDrop,\n    accept: fileTypes ? generateClientDropzoneAccept(fileTypes) : undefined,\n    disabled: $props.__internal_dropzone_disabled,\n  });\n\n  const ready =\n    $props.__internal_ready ??\n    ($props.__internal_state === \"ready\" || fileTypes.length > 0);\n\n  const onUploadClick = (\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>,\n  ) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!files) return;\n\n    const input = \"input\" in $props ? $props.input : undefined;\n    void startUpload(files, input);\n  };\n\n  useEffect(() => {\n    const handlePaste = (event: ClipboardEvent) => {\n      if (!appendOnPaste) return;\n      if (document.activeElement !== rootRef.current) return;\n\n      const pastedFiles = getFilesFromClipboardEvent(event);\n      if (!pastedFiles) return;\n\n      setFiles((prev) => [...prev, ...pastedFiles]);\n\n      if (mode === \"auto\") {\n        const input = \"input\" in $props ? $props.input : undefined;\n        void startUpload(files, input);\n      }\n    };\n\n    window.addEventListener(\"paste\", handlePaste);\n    return () => {\n      window.removeEventListener(\"paste\", handlePaste);\n    };\n  }, [startUpload, $props, appendOnPaste, mode, fileTypes, rootRef, files]);\n\n  const styleFieldArg = {\n    fileTypes,\n    isDragActive,\n    isUploading,\n    ready,\n    uploadProgress,\n  } as DropzoneStyleFieldCallbackArgs;\n\n  const state = (() => {\n    if ($props.__internal_state) return $props.__internal_state;\n    if (!ready) return \"readying\";\n    if (ready && !isUploading) return \"ready\";\n\n    return \"uploading\";\n  })();\n\n  return (\n    <div\n      className={twMerge(\n        \"mt-2 flex flex-col items-center justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10 text-center\",\n        isDragActive && \"bg-blue-600/10\",\n        $props.className,\n        styleFieldToClassName($props.appearance?.container, styleFieldArg),\n      )}\n      {...getRootProps()}\n      style={styleFieldToCssObject($props.appearance?.container, styleFieldArg)}\n      data-state={state}\n    >\n      {contentFieldToContent($props.content?.uploadIcon, styleFieldArg) ?? (\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 20 20\"\n          className={twMerge(\n            \"mx-auto block h-12 w-12 align-middle text-gray-400\",\n            styleFieldToClassName($props.appearance?.uploadIcon, styleFieldArg),\n          )}\n          style={styleFieldToCssObject(\n            $props.appearance?.uploadIcon,\n            styleFieldArg,\n          )}\n          data-ut-element=\"upload-icon\"\n          data-state={state}\n        >\n          <path\n            fill=\"currentColor\"\n            fillRule=\"evenodd\"\n            d=\"M5.5 17a4.5 4.5 0 0 1-1.44-8.765a4.5 4.5 0 0 1 8.302-3.046a3.5 3.5 0 0 1 4.504 4.272A4 4 0 0 1 15 17H5.5Zm3.75-2.75a.75.75 0 0 0 1.5 0V9.66l1.95 2.1a.75.75 0 1 0 1.1-1.02l-3.25-3.5a.75.75 0 0 0-1.1 0l-3.25 3.5a.75.75 0 1 0 1.1 1.02l1.95-2.1v4.59Z\"\n            clipRule=\"evenodd\"\n          ></path>\n        </svg>\n      )}\n      <label\n        htmlFor=\"file-upload\"\n        className={twMerge(\n          classNames(\n            \"relative mt-4 flex w-64 cursor-pointer items-center justify-center text-sm font-semibold leading-6 text-gray-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-600 focus-within:ring-offset-2 hover:text-blue-500\",\n            ready ? \"text-blue-600\" : \"text-gray-500\",\n          ),\n          styleFieldToClassName($props.appearance?.label, styleFieldArg),\n        )}\n        style={styleFieldToCssObject($props.appearance?.label, styleFieldArg)}\n        data-ut-element=\"label\"\n        data-state={state}\n      >\n        {contentFieldToContent($props.content?.label, styleFieldArg) ??\n          (ready ? `Choose files or drag and drop` : `Loading...`)}\n        <input className=\"sr-only\" {...getInputProps()} />\n      </label>\n      <div\n        className={twMerge(\n          \"m-0 h-[1.25rem] text-xs leading-5 text-gray-600\",\n          styleFieldToClassName(\n            $props.appearance?.allowedContent,\n            styleFieldArg,\n          ),\n        )}\n        style={styleFieldToCssObject(\n          $props.appearance?.allowedContent,\n          styleFieldArg,\n        )}\n        data-ut-element=\"allowed-content\"\n        data-state={state}\n      >\n        {contentFieldToContent($props.content?.allowedContent, styleFieldArg) ??\n          allowedContentTextLabelGenerator(permittedFileInfo?.config)}\n      </div>\n      {($props.__internal_show_button ?? files.length > 0) && (\n        <button\n          className={twMerge(\n            classNames(\n              \"relative mt-4 flex h-10 w-36 items-center justify-center overflow-hidden rounded-md text-white after:transition-[width] after:duration-500\",\n              state === \"uploading\"\n                ? `bg-blue-400 after:absolute after:left-0 after:h-full after:bg-blue-600 ${progressWidths[uploadProgress]}`\n                : \"bg-blue-600\",\n            ),\n            styleFieldToClassName($props.appearance?.button, styleFieldArg),\n          )}\n          style={styleFieldToCssObject(\n            $props.appearance?.button,\n            styleFieldArg,\n          )}\n          onClick={onUploadClick}\n          data-ut-element=\"button\"\n          data-state={state}\n          disabled={$props.__internal_button_disabled ?? state === \"uploading\"}\n        >\n          {contentFieldToContent($props.content?.button, styleFieldArg) ??\n            (state === \"uploading\" ? (\n              <Spinner />\n            ) : (\n              `Upload ${files.length} file${files.length === 1 ? \"\" : \"s\"}`\n            ))}\n        </button>\n      )}\n    </div>\n  );\n}\n","/**\n * This is a forked version of the react-dropzone package.\n * See original source here: https://github.com/react-dropzone/react-dropzone\n * The original package is licensed under the MIT license.\n */\n\nimport type React from \"react\";\nimport {\n  createRef,\n  useCallback,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n} from \"react\";\nimport { fromEvent } from \"file-selector\";\n\nimport type {\n  DropEvent,\n  DropzoneMethods,\n  DropzoneOptions,\n  DropzoneState,\n  FileError,\n  FileRejection,\n} from \"./types\";\nimport {\n  acceptPropAsAcceptAttr,\n  allFilesAccepted,\n  canUseFileSystemAccessAPI,\n  composeEventHandlers,\n  ErrorCode,\n  fileAccepted,\n  fileMatchSize,\n  isAbort,\n  isEvtWithFiles,\n  isIeOrEdge,\n  isPropagationStopped,\n  isSecurityError,\n  onDocumentDragOver,\n  pickerOptionsFromAccept,\n} from \"./utils\";\n\nexport * from \"./types\";\n\nconst initialState: DropzoneState = {\n  isFocused: false,\n  isFileDialogActive: false,\n  isDragActive: false,\n  isDragAccept: false,\n  isDragReject: false,\n  acceptedFiles: [],\n  fileRejections: [],\n  rootRef: createRef<HTMLElement>(),\n  inputRef: createRef<HTMLInputElement>(),\n};\n\n/**\n * A React hook that creates a drag 'n' drop area.\n *\n * ### Example\n *\n * ```tsx\n * function MyDropzone() {\n *   const { getRootProps, getInputProps } = useDropzone({\n *     onDrop: acceptedFiles => {\n *       // do something with the File objects, e.g. upload to some server\n *     }\n *   });\n *\n *   return (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag and drop some files here, or click to select files</p>\n *     </div>\n *   )\n * }\n * ```\n */\nexport function useDropzone(\n  props: DropzoneOptions,\n): DropzoneState & DropzoneMethods {\n  const {\n    accept,\n    disabled = false,\n    getFilesFromEvent = fromEvent,\n    maxSize = Number.POSITIVE_INFINITY,\n    minSize = 0,\n    multiple = true,\n    maxFiles = 0,\n    onDragEnter,\n    onDragLeave,\n    onDragOver,\n    onDrop,\n    onDropAccepted,\n    onDropRejected,\n    onFileDialogCancel,\n    onFileDialogOpen,\n    useFsAccessApi,\n    autoFocus,\n    preventDropOnDocument = true,\n    noClick = false,\n    noKeyboard = false,\n    noDrag = false,\n    noDragEventsBubbling = false,\n    onError,\n    validator = null,\n  } = props;\n\n  const acceptAttr = useMemo(() => acceptPropAsAcceptAttr(accept), [accept]);\n  const pickerTypes = useMemo(() => pickerOptionsFromAccept(accept), [accept]);\n\n  const onFileDialogOpenCb = useMemo(\n    () => (typeof onFileDialogOpen === \"function\" ? onFileDialogOpen : noop),\n    [onFileDialogOpen],\n  );\n  const onFileDialogCancelCb = useMemo(\n    () =>\n      typeof onFileDialogCancel === \"function\" ? onFileDialogCancel : noop,\n    [onFileDialogCancel],\n  );\n\n  const rootRef = useRef<HTMLElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const { isFocused, isFileDialogActive } = state;\n\n  const fsAccessApiWorksRef = useRef(\n    typeof window !== \"undefined\" &&\n      window.isSecureContext &&\n      useFsAccessApi &&\n      canUseFileSystemAccessAPI(),\n  );\n\n  // Update file dialog active state when the window is focused on\n  const onWindowFocus = () => {\n    // Execute the timeout only if the file dialog is opened in the browser\n    if (!fsAccessApiWorksRef.current && isFileDialogActive) {\n      setTimeout(() => {\n        if (inputRef.current) {\n          const { files } = inputRef.current;\n\n          if (!files?.length) {\n            dispatch({ type: \"closeDialog\" });\n            onFileDialogCancelCb();\n          }\n        }\n      }, 300);\n    }\n  };\n  useEffect(() => {\n    window.addEventListener(\"focus\", onWindowFocus, false);\n    return () => {\n      window.removeEventListener(\"focus\", onWindowFocus, false);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputRef, isFileDialogActive, onFileDialogCancelCb, fsAccessApiWorksRef]);\n\n  const dragTargetsRef = useRef<EventTarget[]>([]);\n  const onDocumentDrop = (event: DropEvent) => {\n    if (rootRef.current?.contains(event.target as Node)) {\n      // If we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n      return;\n    }\n    event.preventDefault();\n    dragTargetsRef.current = [];\n  };\n\n  useEffect(() => {\n    if (preventDropOnDocument) {\n      document.addEventListener(\"dragover\", onDocumentDragOver, false);\n      document.addEventListener(\"drop\", onDocumentDrop, false);\n    }\n\n    return () => {\n      if (preventDropOnDocument) {\n        document.removeEventListener(\"dragover\", onDocumentDragOver);\n        document.removeEventListener(\"drop\", onDocumentDrop);\n      }\n    };\n  }, [rootRef, preventDropOnDocument]);\n\n  // Auto focus the root when autoFocus is true\n  useEffect(() => {\n    if (!disabled && autoFocus && rootRef.current) {\n      rootRef.current.focus();\n    }\n    return noop;\n  }, [rootRef, autoFocus, disabled]);\n\n  const onErrCb = useCallback(\n    (e: Error) => {\n      if (onError) {\n        onError(e);\n      } else {\n        // Let the user know something's gone wrong if they haven't provided the onError cb.\n        console.error(e);\n      }\n    },\n    [onError],\n  );\n\n  const onDragEnterCb = useCallback(\n    (event: React.DragEvent<HTMLElement>) => {\n      event.preventDefault();\n      // Persist here because we need the event later after getFilesFromEvent() is done\n      event.persist();\n      stopPropagation(event);\n\n      dragTargetsRef.current = [...dragTargetsRef.current, event.target];\n\n      if (isEvtWithFiles(event)) {\n        Promise.resolve(getFilesFromEvent(event))\n          .then((files) => {\n            if (isPropagationStopped(event) && !noDragEventsBubbling) {\n              return;\n            }\n\n            const fileCount = files.length;\n            const isDragAccept =\n              fileCount > 0 &&\n              allFilesAccepted({\n                files: files as File[],\n                accept: acceptAttr!,\n                minSize,\n                maxSize,\n                multiple,\n                maxFiles,\n                validator: validator!,\n              });\n            const isDragReject = fileCount > 0 && !isDragAccept;\n\n            dispatch({\n              type: \"setDraggedFiles\",\n              payload: {\n                isDragAccept,\n                isDragReject,\n                isDragActive: true,\n              },\n            });\n\n            if (onDragEnter) {\n              onDragEnter(event);\n            }\n          })\n          .catch(onErrCb);\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      getFilesFromEvent,\n      onDragEnter,\n      onErrCb,\n      noDragEventsBubbling,\n      acceptAttr,\n      minSize,\n      maxSize,\n      multiple,\n      maxFiles,\n      validator,\n    ],\n  );\n\n  const onDragOverCb = useCallback(\n    (event: React.DragEvent<HTMLElement>) => {\n      event.preventDefault();\n\n      event.persist();\n      stopPropagation(event);\n\n      const hasFiles = isEvtWithFiles(event);\n      if (hasFiles && \"dataTransfer\" in event && event.dataTransfer !== null) {\n        try {\n          event.dataTransfer.dropEffect = \"copy\";\n        } catch {} /* eslint-disable-line no-empty */\n      }\n\n      if (hasFiles && onDragOver) {\n        onDragOver(event);\n      }\n\n      return false;\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [onDragOver, noDragEventsBubbling],\n  );\n\n  const onDragLeaveCb = useCallback(\n    (event: React.DragEvent<HTMLElement>) => {\n      event.preventDefault();\n      event.persist();\n      stopPropagation(event);\n\n      // Only deactivate once the dropzone and all children have been left\n      const targets = dragTargetsRef.current.filter((target) =>\n        rootRef.current?.contains(target as Node),\n      );\n      // Make sure to remove a target present multiple times only once\n      // (Firefox may fire dragenter/dragleave multiple times on the same element)\n      const targetIdx = targets.indexOf(event.target);\n      if (targetIdx !== -1) {\n        targets.splice(targetIdx, 1);\n      }\n      dragTargetsRef.current = targets;\n      if (targets.length > 0) {\n        return;\n      }\n\n      dispatch({\n        type: \"setDraggedFiles\",\n        payload: {\n          isDragActive: false,\n          isDragAccept: false,\n          isDragReject: false,\n        },\n      });\n\n      if (isEvtWithFiles(event) && onDragLeave) {\n        onDragLeave(event);\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [rootRef, onDragLeave, noDragEventsBubbling],\n  );\n\n  const setFiles = useCallback(\n    (files: File[], event: DropEvent | null) => {\n      const acceptedFiles: File[] = [];\n      const fileRejections: FileRejection[] = [];\n\n      files.forEach((file) => {\n        const [accepted, acceptError] = fileAccepted(file, acceptAttr!);\n        const [sizeMatch, sizeError] = fileMatchSize(file, minSize, maxSize);\n        const customErrors = validator ? validator(file) : null;\n\n        if (accepted && sizeMatch && !customErrors) {\n          acceptedFiles.push(file);\n        } else {\n          let errors: (FileError | null | boolean)[] = [acceptError, sizeError];\n\n          if (customErrors) {\n            errors = errors.concat(customErrors);\n          }\n\n          fileRejections.push({\n            file,\n            errors: errors.filter((e): e is FileError => !!e),\n          });\n        }\n      });\n\n      if (\n        (!multiple && acceptedFiles.length > 1) ||\n        (multiple && maxFiles >= 1 && acceptedFiles.length > maxFiles)\n      ) {\n        // Reject everything and empty accepted files\n        acceptedFiles.forEach((file) => {\n          fileRejections.push({\n            file,\n            errors: [\n              { code: ErrorCode.TOO_MANY_FILES, message: \"Too many files\" },\n            ],\n          });\n        });\n        acceptedFiles.splice(0);\n      }\n\n      dispatch({\n        type: \"setFiles\",\n        payload: {\n          acceptedFiles,\n          fileRejections,\n        },\n      });\n\n      if (onDrop) {\n        onDrop(acceptedFiles, fileRejections, event!);\n      }\n\n      if (fileRejections.length > 0 && onDropRejected) {\n        onDropRejected(fileRejections, event!);\n      }\n\n      if (acceptedFiles.length > 0 && onDropAccepted) {\n        onDropAccepted(acceptedFiles, event!);\n      }\n    },\n    [\n      dispatch,\n      multiple,\n      acceptAttr,\n      minSize,\n      maxSize,\n      maxFiles,\n      onDrop,\n      onDropAccepted,\n      onDropRejected,\n      validator,\n    ],\n  );\n\n  const onDropCb = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      event.preventDefault();\n      // Persist here because we need the event later after getFilesFromEvent() is done\n      event.persist();\n      stopPropagation(event);\n\n      dragTargetsRef.current = [];\n\n      if (isEvtWithFiles(event)) {\n        Promise.resolve(getFilesFromEvent(event))\n          .then((files) => {\n            if (isPropagationStopped(event) && !noDragEventsBubbling) {\n              return;\n            }\n            setFiles(files as File[], event);\n          })\n          .catch(onErrCb);\n      }\n      dispatch({ type: \"reset\" });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [getFilesFromEvent, setFiles, onErrCb, noDragEventsBubbling],\n  );\n\n  // Fn for opening the file dialog programmatically\n  const openFileDialog = useCallback(() => {\n    // No point to use FS access APIs if context is not secure\n    // https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts#feature_detection\n    if (fsAccessApiWorksRef.current) {\n      dispatch({ type: \"openDialog\" });\n      onFileDialogOpenCb();\n      // https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker\n      const opts = {\n        multiple,\n        types: pickerTypes,\n      };\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call\n      (window as any)\n        .showOpenFilePicker(opts)\n        .then((handles: DropEvent) => getFilesFromEvent(handles))\n        .then((files: File[]) => {\n          setFiles(files, null);\n          dispatch({ type: \"closeDialog\" });\n        })\n        .catch((e: Error) => {\n          // AbortError means the user canceled\n          if (isAbort(e)) {\n            onFileDialogCancelCb();\n            dispatch({ type: \"closeDialog\" });\n          } else if (isSecurityError(e)) {\n            fsAccessApiWorksRef.current = false;\n            // CORS, so cannot use this API\n            // Try using the input\n            if (inputRef.current) {\n              inputRef.current.value = \"\";\n              inputRef.current.click();\n            } else {\n              onErrCb(\n                new Error(\n                  \"Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.\",\n                ),\n              );\n            }\n          } else {\n            onErrCb(e);\n          }\n        });\n      return;\n    }\n\n    if (inputRef.current) {\n      dispatch({ type: \"openDialog\" });\n      onFileDialogOpenCb();\n      inputRef.current.value = \"\";\n      inputRef.current.click();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    dispatch,\n    onFileDialogOpenCb,\n    onFileDialogCancelCb,\n    useFsAccessApi,\n    setFiles,\n    onErrCb,\n    pickerTypes,\n    multiple,\n  ]);\n\n  // Cb to open the file dialog when SPACE/ENTER occurs on the dropzone\n  const onKeyDownCb = useCallback(\n    (event: React.KeyboardEvent) => {\n      // Ignore keyboard events bubbling up the DOM tree\n      if (!rootRef.current?.isEqualNode(event.target as Node)) {\n        return;\n      }\n\n      if (\n        (\"key\" in event && (event.key === \" \" || event.key === \"Enter\")) ||\n        (\"keyCode\" in event && (event.keyCode === 32 || event.keyCode === 13))\n      ) {\n        event.preventDefault();\n        openFileDialog();\n      }\n    },\n    [rootRef, openFileDialog],\n  );\n\n  // Update focus state for the dropzone\n  const onFocusCb = useCallback(() => {\n    dispatch({ type: \"focus\" });\n  }, []);\n  const onBlurCb = useCallback(() => {\n    dispatch({ type: \"blur\" });\n  }, []);\n\n  // Cb to open the file dialog when click occurs on the dropzone\n  const onClickCb = useCallback(() => {\n    if (noClick) {\n      return;\n    }\n\n    // In IE11/Edge the file-browser dialog is blocking, therefore, use setTimeout()\n    // to ensure React can handle state changes\n    // See: https://github.com/react-dropzone/react-dropzone/issues/450\n    if (isIeOrEdge()) {\n      setTimeout(openFileDialog, 0);\n    } else {\n      openFileDialog();\n    }\n  }, [noClick, openFileDialog]);\n\n  const composeHandler = (fn: (...args: any[]) => any) => {\n    return disabled ? null : fn;\n  };\n\n  const composeKeyboardHandler = (fn: (...args: any[]) => any) => {\n    return noKeyboard ? null : composeHandler(fn);\n  };\n\n  const composeDragHandler = (fn: (...args: any[]) => any) => {\n    return noDrag ? null : composeHandler(fn);\n  };\n\n  const stopPropagation = (event: DropEvent) => {\n    if (noDragEventsBubbling) {\n      event.stopPropagation();\n    }\n  };\n\n  interface DropzoneRootProps extends React.HTMLAttributes<HTMLElement> {\n    refKey?: string;\n    [key: string]: any;\n  }\n  // @ts-expect-error: FIXME LATER\n  const getRootProps: <T extends DropzoneRootProps>(props?: T) => T = useMemo(\n    () =>\n      // @ts-expect-error - FIXME LATER\n      ({\n        refKey = \"ref\",\n        role,\n        onKeyDown,\n        onFocus,\n        onBlur,\n        onClick,\n        onDragEnter,\n        onDragOver,\n        onDragLeave,\n        onDrop,\n        ...rest\n      } = {}) => ({\n        onKeyDown: composeKeyboardHandler(\n          composeEventHandlers(onKeyDown, onKeyDownCb),\n        ),\n        onFocus: composeKeyboardHandler(\n          composeEventHandlers(onFocus, onFocusCb),\n        ),\n        onBlur: composeKeyboardHandler(composeEventHandlers(onBlur, onBlurCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onClickCb)),\n        onDragEnter: composeDragHandler(\n          composeEventHandlers(onDragEnter, onDragEnterCb),\n        ),\n        onDragOver: composeDragHandler(\n          composeEventHandlers(onDragOver, onDragOverCb),\n        ),\n        onDragLeave: composeDragHandler(\n          composeEventHandlers(onDragLeave, onDragLeaveCb),\n        ),\n        onDrop: composeDragHandler(composeEventHandlers(onDrop, onDropCb)),\n        role: typeof role === \"string\" && role !== \"\" ? role : \"presentation\",\n        [refKey]: rootRef,\n        ...(!disabled && !noKeyboard ? { tabIndex: 0 } : {}),\n        ...rest,\n      }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      rootRef,\n      onKeyDownCb,\n      onFocusCb,\n      onBlurCb,\n      onClickCb,\n      onDragEnterCb,\n      onDragOverCb,\n      onDragLeaveCb,\n      onDropCb,\n      noKeyboard,\n      noDrag,\n      disabled,\n    ],\n  );\n\n  const onInputElementClick = useCallback((event: React.MouseEvent) => {\n    event.stopPropagation();\n  }, []);\n\n  interface DropzoneInputProps\n    extends React.InputHTMLAttributes<HTMLInputElement> {\n    refKey?: string;\n  }\n  // @ts-expect-error - FIXME LATER\n  const getInputProps: <T extends DropzoneInputProps>(props?: T) => T = useMemo(\n    () =>\n      // @ts-expect-error - FIXME LATER\n      ({ refKey = \"ref\", onChange, onClick, ...rest } = {}) => ({\n        accept: acceptAttr,\n        multiple,\n        type: \"file\",\n        style: { display: \"none\" },\n        onChange: composeHandler(composeEventHandlers(onChange, onDropCb)),\n        onClick: composeHandler(\n          composeEventHandlers(onClick, onInputElementClick),\n        ),\n        tabIndex: -1,\n        [refKey]: inputRef,\n        ...rest,\n      }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [inputRef, accept, multiple, onDropCb, disabled],\n  );\n\n  return {\n    ...state,\n    isFocused: isFocused && !disabled,\n    getRootProps,\n    getInputProps,\n    rootRef,\n    inputRef,\n    open: composeHandler(openFileDialog),\n  };\n}\n\ntype Focus = { type: \"focus\" };\ntype Blur = { type: \"blur\" };\ntype OpenDialog = { type: \"openDialog\" };\ntype CloseDialog = { type: \"closeDialog\" };\ntype SetDraggedFiles = {\n  type: \"setDraggedFiles\";\n  payload: Pick<\n    DropzoneState,\n    \"isDragActive\" | \"isDragAccept\" | \"isDragReject\"\n  >;\n};\ntype SetFiles = {\n  type: \"setFiles\";\n  payload: Pick<DropzoneState, \"acceptedFiles\" | \"fileRejections\">;\n};\ntype Reset = { type: \"reset\" };\ntype DropzoneActions =\n  | Focus\n  | Blur\n  | OpenDialog\n  | CloseDialog\n  | SetDraggedFiles\n  | SetFiles\n  | Reset;\nfunction reducer(state: DropzoneState, action: DropzoneActions): DropzoneState {\n  switch (action.type) {\n    case \"focus\":\n      return {\n        ...state,\n        isFocused: true,\n      };\n    case \"blur\":\n      return {\n        ...state,\n        isFocused: false,\n      };\n    case \"openDialog\":\n      return {\n        ...initialState,\n        isFileDialogActive: true,\n      };\n    case \"closeDialog\":\n      return {\n        ...state,\n        isFileDialogActive: false,\n      };\n    case \"setDraggedFiles\":\n      return {\n        ...state,\n        ...action.payload,\n      };\n    case \"setFiles\":\n      return {\n        ...state,\n        ...action.payload,\n      };\n    case \"reset\":\n      return {\n        ...initialState,\n      };\n    default:\n      return state;\n  }\n}\n\nfunction noop() {\n  // noop\n}\n\nexport { ErrorCode } from \"./utils\";\n","import attrAccepts from \"attr-accept\";\n\nimport type { AcceptProp, DropEvent, FileError } from \"./types\";\n\n// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\nconst accepts: typeof attrAccepts =\n  // @ts-expect-error - ESM interop\n  typeof attrAccepts === \"function\" ? attrAccepts : attrAccepts.default;\n\nexport const ErrorCode = {\n  FILE_INVALID_TYPE: \"FILE_INVALID_TYPE\",\n  FILE_TOO_LARGE: \"FILE_TOO_LARGE\",\n  FILE_TOO_SMALL: \"FILE_TOO_SMALL\",\n  TOO_MANY_FILES: \"TOO_MANY_FILES\",\n} as const;\nexport type ErrorCode = (typeof ErrorCode)[keyof typeof ErrorCode];\n\nexport const getInvalidTypeRejectionErr = (accept: string | string[]) => {\n  accept = Array.isArray(accept) && accept.length === 1 ? accept[0] : accept;\n  const messageSuffix = Array.isArray(accept)\n    ? `one of ${accept.join(\", \")}`\n    : accept;\n  return {\n    code: ErrorCode.FILE_INVALID_TYPE,\n    message: `File type must be ${messageSuffix}`,\n  };\n};\n\nexport const getTooLargeRejectionErr = (maxSize: number) => {\n  return {\n    code: ErrorCode.FILE_TOO_LARGE,\n    message: `File is larger than ${maxSize} ${\n      maxSize === 1 ? \"byte\" : \"bytes\"\n    }`,\n  };\n};\n\nexport const getTooSmallRejectionErr = (minSize: number) => {\n  return {\n    code: ErrorCode.FILE_TOO_SMALL,\n    message: `File is smaller than ${minSize} ${\n      minSize === 1 ? \"byte\" : \"bytes\"\n    }`,\n  };\n};\n\n// Firefox versions prior to 53 return a bogus MIME type for every file drag, so dragovers with\n// that MIME type will always be accepted\nexport function fileAccepted(file: File, accept: string | string[]) {\n  const isAcceptable =\n    file.type === \"application/x-moz-file\" || accepts(file, accept);\n  return [\n    isAcceptable,\n    isAcceptable ? null : getInvalidTypeRejectionErr(accept),\n  ];\n}\n\nexport function fileMatchSize(file: File, minSize: number, maxSize: number) {\n  if (isDefined(file.size)) {\n    if (isDefined(minSize) && isDefined(maxSize)) {\n      if (file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\n      if (file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];\n    } else if (isDefined(minSize) && file.size < minSize)\n      return [false, getTooSmallRejectionErr(minSize)];\n    else if (isDefined(maxSize) && file.size > maxSize)\n      return [false, getTooLargeRejectionErr(maxSize)];\n  }\n  return [true, null];\n}\n\nfunction isDefined<T>(value: T | null | undefined): value is T {\n  return value !== undefined && value !== null;\n}\n\nexport function allFilesAccepted({\n  files,\n  accept,\n  minSize,\n  maxSize,\n  multiple,\n  maxFiles,\n  validator,\n}: {\n  files: File[];\n  accept: string | string[];\n  minSize: number;\n  maxSize: number;\n  multiple: boolean;\n  maxFiles: number;\n  validator: (f: File) => FileError | FileError[] | null;\n}) {\n  if (\n    (!multiple && files.length > 1) ||\n    (multiple && maxFiles >= 1 && files.length > maxFiles)\n  ) {\n    return false;\n  }\n\n  return files.every((file) => {\n    const [accepted] = fileAccepted(file, accept);\n    const [sizeMatch] = fileMatchSize(file, minSize, maxSize);\n    const customErrors = validator ? validator(file) : null;\n    return accepted && sizeMatch && !customErrors;\n  });\n}\n\n// React's synthetic events has event.isPropagationStopped,\n// but to remain compatibility with other libs (Preact) fall back\n// to check event.cancelBubble\nexport function isPropagationStopped(event: DropEvent) {\n  if (\n    \"isPropagationStopped\" in event &&\n    typeof event.isPropagationStopped === \"function\"\n  ) {\n    return event.isPropagationStopped();\n  } else if (\n    \"cancelBubble\" in event &&\n    typeof event.cancelBubble !== \"undefined\"\n  ) {\n    return event.cancelBubble;\n  }\n  return false;\n}\n\nexport function isEvtWithFiles(event: DropEvent) {\n  if (!(\"dataTransfer\" in event && event.dataTransfer !== null)) {\n    return !!event.target && \"files\" in event.target && !!event.target.files;\n  }\n  // https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/types\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Recommended_drag_types#file\n  return Array.prototype.some.call(\n    event.dataTransfer.types,\n    (type) => type === \"Files\" || type === \"application/x-moz-file\",\n  );\n}\n\nexport function isKindFile<T>(item: T) {\n  return (\n    typeof item === \"object\" &&\n    item !== null &&\n    \"kind\" in item &&\n    item.kind === \"file\"\n  );\n}\n\n// allow the entire document to be a drag target\nexport function onDocumentDragOver(event: DragEvent) {\n  event.preventDefault();\n}\n\nfunction isIe(userAgent: string) {\n  return (\n    userAgent.indexOf(\"MSIE\") !== -1 || userAgent.indexOf(\"Trident/\") !== -1\n  );\n}\n\nfunction isEdge(userAgent: string) {\n  return userAgent.indexOf(\"Edge/\") !== -1;\n}\n\nexport function isIeOrEdge(userAgent = window.navigator.userAgent) {\n  return isIe(userAgent) || isEdge(userAgent);\n}\n\n/**\n * This is intended to be used to compose event handlers\n * They are executed in order until one of them calls `event.isPropagationStopped()`.\n * Note that the check is done on the first invoke too,\n * meaning that if propagation was stopped before invoking the fns,\n * no handlers will be executed.\n *\n * @param {Function} fns the event hanlder functions\n * @return {Function} the event handler to add to an element\n */\nexport function composeEventHandlers(\n  ...fns: (((...args: any[]) => any) | undefined)[]\n) {\n  return (event: DropEvent, ...args: any[]) =>\n    fns.some((fn) => {\n      if (!isPropagationStopped(event) && fn) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        fn(event, ...args);\n      }\n      return isPropagationStopped(event);\n    });\n}\n\n/**\n * canUseFileSystemAccessAPI checks if the [File System Access API](https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API)\n * is supported by the browser.\n * @returns {boolean}\n */\nexport function canUseFileSystemAccessAPI() {\n  return \"showOpenFilePicker\" in window;\n}\n\n/**\n * Convert the `{accept}` dropzone prop to the\n * `{types}` option for https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker\n *\n * @param {AcceptProp} accept\n * @returns {{accept: string[]}[]}\n */\nexport function pickerOptionsFromAccept(accept?: AcceptProp) {\n  if (isDefined(accept)) {\n    const acceptForPicker = Object.entries(accept)\n      .filter(([mimeType, ext]) => {\n        let ok = true;\n\n        if (!isMIMEType(mimeType)) {\n          console.warn(\n            `Skipped \"${mimeType}\" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.`,\n          );\n          ok = false;\n        }\n\n        if (!Array.isArray(ext) || !ext.every(isExt)) {\n          console.warn(\n            `Skipped \"${mimeType}\" because an invalid file extension was provided.`,\n          );\n          ok = false;\n        }\n\n        return ok;\n      })\n      .reduce(\n        (agg, [mimeType, ext]) => ({\n          ...agg,\n          [mimeType]: ext,\n        }),\n        {},\n      );\n    return [\n      {\n        // description is required due to https://crbug.com/1264708\n        description: \"Files\",\n        accept: acceptForPicker,\n      },\n    ];\n  }\n  return accept;\n}\n\n/**\n * Convert the `{accept}` dropzone prop to an array of MIME types/extensions.\n * @param {AcceptProp} accept\n * @returns {string}\n */\nexport function acceptPropAsAcceptAttr(accept?: AcceptProp) {\n  if (isDefined(accept)) {\n    return (\n      Object.entries(accept)\n        .reduce<string[]>((a, [mimeType, ext]) => [...a, mimeType, ...ext], [])\n        // Silently discard invalid entries as pickerOptionsFromAccept warns about these\n        .filter((v) => isMIMEType(v) || isExt(v))\n        .join(\",\")\n    );\n  }\n\n  return undefined;\n}\n\n/**\n * Check if v is an exception caused by aborting a request (e.g window.showOpenFilePicker()).\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/DOMException.\n */\nexport function isAbort(v: any) {\n  return (\n    v instanceof DOMException &&\n    (v.name === \"AbortError\" || v.code === v.ABORT_ERR)\n  );\n}\n\n/**\n * Check if v is a security error.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/DOMException.\n */\nexport function isSecurityError(v: any) {\n  return (\n    v instanceof DOMException &&\n    (v.name === \"SecurityError\" || v.code === v.SECURITY_ERR)\n  );\n}\n\n/**\n * Check if v is a MIME type string.\n *\n * See accepted format: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#unique_file_type_specifiers.\n */\nexport function isMIMEType(v: string) {\n  return (\n    v === \"audio/*\" ||\n    v === \"video/*\" ||\n    v === \"image/*\" ||\n    v === \"text/*\" ||\n    /\\w+\\/[-+.\\w]+/g.test(v)\n  );\n}\n\n/**\n * Check if v is a file extension.\n */\nexport function isExt(v: string) {\n  return /^.*\\.[\\w]+$/.test(v);\n}\n"],"mappings":"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","names":["import_client","import_react","import_client","import_react","import_shared","React","import_react","initialState","state","_a","import_jsx_runtime","_a","fileTypes","_b","_c","import_react","import_tailwind_merge","import_client","import_react","attrAccepts","noop","onDragEnter","onDragOver","onDragLeave","onDrop","import_jsx_runtime","_a","import_jsx_runtime"]}